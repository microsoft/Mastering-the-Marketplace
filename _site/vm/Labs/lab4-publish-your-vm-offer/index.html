<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
<meta http-equiv="x-ua-compatible" content="ie=edge">
<meta name="viewport" content="width=device-width, minimum-scale=1.0">
<title>Lab 4 - Publish your VM Offer</title>

	<meta name="description" content="This lab will walk you through generalizing and capturing an image.">


	<meta name="keywords" content="Azure Marketplace Virtual Machine">

<link rel="icon" href="/favicon.ico" type="image/x-icon">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Montserrat:400,400i,500,500i,700,700i|Noto+Sans:400,400i,700,700i|Source+Code+Pro&amp;subset=latin-ext">
<link rel="stylesheet" href="/doks-theme/assets/css/just-the-docs-default.css"> 
<link rel="stylesheet" href="/doks-theme/assets/css/style.css">
		<div class="search">
			<div class="search-input-wrap">
				<input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search " aria-label="Search " autocomplete="off">
				<label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label>
			</div>
			<div id="search-results" class="search-results"></div>
		</div>
	</head>
	<body class="msft" data-spy="scroll" data-target=".js-scrollspy">
		


	<header class="site-header">
		<div class="container">
			<div class="row">
				<div class="col-xs-12">
					
						<a href="/" class="site-header__logo">Mastering the Marketplace</a>
					
					
				</div><!-- /.col -->
			</div><!-- /.row -->
		</div><!-- /.container -->
	</header><!-- /.site-header -->


		<div class="hero-subheader">
			<div class="container">
				<div class="row">
					<div class="col-md-7">
						<div class="align-container" data-mh>
							<div class="align-inner">
								
									<h1 class="hero-subheader__title">Lab 4 - Publish your VM Offer</h1>
								
								
									<p class="hero-subheader__desc">This lab will walk you through generalizing and capturing an image.</p>
								
								
							</div><!-- /.align-inner -->
						</div><!-- /.align-container -->
					</div><!-- /.col -->
					
				</div><!-- /.row -->
			</div><!-- /.container -->
		</div><!-- /.hero-subheader -->
		<div class="section">
			<div class="container">
				<div class="row">
					<div class="col-md-7">
						<div class="content">
							<blockquote>
  <p>Note: This lab is part of a series of labs for Mastering the Virtual Machine Offers Workshop. You should finish prior ones before moving on to the next sections.</p>
</blockquote>

<!-- no toc -->
<ul>
  <li><a href="#plan-overview">Plan Overview</a>
    <ul>
      <li><a href="#permissions-for-shared-image-gallery">Permissions for Shared Image Gallery</a></li>
      <li><a href="#create-a-plan-on-partner-center">Create a plan on Partner center</a></li>
      <li><a href="#review-and-publish">Review and Publish</a></li>
    </ul>
  </li>
</ul>

<h2 id="plan-overview">Plan Overview</h2>

<p>In this lab, we will complete the rest of the required setup on Partner Center to publish our offer. At this point, the only section that should need completion is Plan Overview. If you have any other sections pending completion, please refer to the previous labs.</p>

<h3 id="permissions-for-shared-image-gallery">Permissions for Shared Image Gallery</h3>

<p>If your Partner Center account is the owner of the subscription hosting Azure Compute Gallery, nothing further is needed for permissions.</p>

<p>If you are not the owner of the subscription that created the shared image gallery, you will need to assign appropriate permissions in order to share the image on Partner Center. Follow the below steps:</p>
<ol>
  <li>Go to the Azure Compute Gallery.</li>
  <li>Select Access control (IAM) on the left panel.</li>
  <li>Select Add, then Add role assignment.</li>
  <li>The add role assignment window is shown. For Role, select Owner.</li>
  <li>For Assign access to, select User, group, or service principal.</li>
  <li>For Select, enter the Azure email of the person who will publish the image. Select Save.</li>
</ol>

<h3 id="create-a-plan-on-partner-center">Create a plan on Partner center</h3>

<ol>
  <li>Go to your Partner center account inside the Draft VM offer.</li>
  <li>Select the Plan overview section and click on <strong>New Plan</strong>. Give your plan a unique Plan Id and Plan name and hit Create.</li>
  <li>In the Plan listing tab, give your plan a name, description and summary.</li>
  <li>Open the <strong>Pricing and avaialbility</strong> tab next.</li>
  <li>Add the required market in the <strong>Edit Market</strong> section.</li>
  <li>Next select the <strong>Free</strong> plan under Price input options</li>
  <li>Switch the plan visibility to <strong>Private</strong> and put in your Tenant and Subscription Id and click on <strong>Save Draft</strong></li>
  <li>Go to the Technical Configuration tab next and select the <strong>Operating System family</strong> based on your OS type</li>
  <li>Select the <strong>Vendor</strong> and <strong>OS friendly name</strong>.</li>
  <li>Select <strong>D2 Standard v3</strong> from <strong>Recommended VM sizes</strong>.</li>
  <li>Select the appropriate properties depending on if you used extensions/cloud init</li>
  <li>Select the image type, Gen1/Gen2 based on the base image you selected in the VM Creation Lab</li>
  <li>Lastly add the image by putting a version number and selecting the image from the created image gallery.</li>
</ol>

<p><br /></p>

<h3 id="review-and-publish">Review and Publish</h3>

<p>Finally click on <strong>Review and publish</strong>. Youshould now see green checkmarks against all the sections and you are now ready to publish. Click on <strong>Publish</strong> at the bottom to start the publishing process.</p>

<p><strong>Congratulations!</strong> You have now finished this lab.</p>

<p>If you are in a live class setting, please raise your hand (even if virtually) to indicate you are done with the lab.</p>

						</div><!-- /.content -->
					</div><!-- /.col -->
					<div class="col-md-4 col-md-offset-1">
						<div class="sections-list-wrapper">
							<div class="sections-list js-sections js-affix js-scrollspy hidden-xs hidden-sm"></div><!-- /.sections-list -->
						</div>
					</div><!-- /.col -->
				</div><!-- /.row -->
			</div><!-- /.container -->
		</div><!-- /.section -->
		
		<div class="js-footer-area">
			
			
			
	<footer class="site-footer">
		<div class="container">
			<div class="row">
				<div class="col-sm-6">
					
					
						<hr>
						<p class="site-footer__copyright">Copyright &copy; 2022. - Microsoft, Inc. <br>All rights reserved.</p>
					
				</div><!-- /.col -->
				<div class="col-sm-6 align-right">
					<img alt="Microsoft Azure logo." src="/doks-theme/assets/images/layout/logo-footer.png" class="site-footer__logoimage">
				</div><!-- /.col -->
				
			</div><!-- /.row -->
		</div><!-- /.container -->
	</footer><!-- /.site-footer -->


<script src="/doks-theme/assets/js/vendor/jquery.min.js"></script>
<script type="text/javascript" src="/doks-theme/assets/js/vendor/bootstrap/affix.min.js"></script>
<script type="text/javascript" src="/doks-theme/assets/js/vendor/bootstrap/scrollspy.min.js"></script>
<script type="text/javascript" src="/doks-theme/assets/js/vendor/matchHeight.min.js"></script>
<script type="text/javascript" src="/doks-theme/assets/js/scripts.min.js"></script>
<script type="text/javascript" src="/doks-theme/assets/js/vendor/lunr.min.js"></script>
<script type="text/javascript" src="/doks-theme/assets/js/just-the-docs.js"></script>



		</div><!-- /.js-footer-area -->

		<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
			<symbol id="svg-search" viewBox="0 0 24 24">
				<title>Search</title>
				<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search">
				  <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line>
				</svg>
			  </symbol>
		</svg>
	</body>
</html>
